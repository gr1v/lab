def greedy_max_cut(graph):
    """
    –ñ–∞–¥–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –∑–∞–¥–∞—á–∏ –æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —Ä–∞–∑—Ä–µ–∑–µ –≥—Ä–∞—Ñ–∞
    """
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–≤–µ –ø—É—Å—Ç—ã–µ –≥—Ä—É–ø–ø—ã
    group_a = set()
    group_b = set()
    
    # –°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤–µ—Ä—à–∏–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
    vertices = list(graph.keys())
    
    # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é –≤–µ—Ä—à–∏–Ω—É
    for vertex in vertices:
        # –°—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤—è–∑–µ–π —Å –≥—Ä—É–ø–ø–æ–π A –∏ –≥—Ä—É–ø–ø–æ–π B
        connections_to_a = 0
        connections_to_b = 0
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ—Ö —Å–æ—Å–µ–¥–µ–π —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—à–∏–Ω—ã
        for neighbor in graph[vertex]:
            if neighbor in group_a:
                connections_to_a += 1
            elif neighbor in group_b:
                connections_to_b += 1
        
        # –†–∞–∑–º–µ—â–∞–µ–º –≤–µ—Ä—à–∏–Ω—É –≤ –≥—Ä—É–ø–ø—É —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–≤—è–∑–µ–π
        if connections_to_a <= connections_to_b:
            group_b.add(vertex)
        else:
            group_a.add(vertex)
    
    return group_a, group_b

def count_cut_edges(graph, group_a, group_b):
    """
    –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ
    """
    cut_edges = 0
    for vertex in graph:
        for neighbor in graph[vertex]:
            # –£—á–∏—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥–æ–µ —Ä–µ–±—Ä–æ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
            if vertex < neighbor:
                if (vertex in group_a and neighbor in group_b) or (vertex in group_b and neighbor in group_a):
                    cut_edges += 1
    return cut_edges

def create_graph_from_edges(edges):
    """
    –°–æ–∑–¥–∞–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è —Å–º–µ–∂–Ω–æ—Å—Ç–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ —Ä–µ–±–µ—Ä
    """
    graph = {}
    for u, v in edges:
        if u not in graph:
            graph[u] = []
        if v not in graph:
            graph[v] = []
        graph[u].append(v)
        graph[v].append(u)
    return graph

def input_graph():
    """
    –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–≤–æ–¥–∞ –≥—Ä–∞—Ñ–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
    """
    print("\n" + "=" * 50)
    print("–í–í–û–î –î–ê–ù–ù–´–• –ì–†–ê–§–ê")
    print("=" * 50)
    
    edges = []
    
    while True:
        print("\n–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –≤–≤–æ–¥–∞:")
        print("1 - –í–≤–µ—Å—Ç–∏ —Ä–µ–±—Ä–∞ –≤—Ä—É—á–Ω—É—é")
        print("2 - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä")
        print("3 - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –≥—Ä–∞—Ñ")
        choice = input("–í–∞—à –≤—ã–±–æ—Ä (1-3): ").strip()
        
        if choice == "1":
            edges = input_manual_edges()
            break
        elif choice == "2":
            edges = input_example_graph()
            break
        elif choice == "3":
            edges = generate_random_graph()
            break
        else:
            print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")
    
    return create_graph_from_edges(edges)

def input_manual_edges():
    """
    –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ä–µ–±–µ—Ä –≥—Ä–∞—Ñ–∞
    """
    edges = []
    print("\n--- –†—É—á–Ω–æ–π –≤–≤–æ–¥ —Ä–µ–±–µ—Ä ---")
    print("–§–æ—Ä–º–∞—Ç: '–≤–µ—Ä—à–∏–Ω–∞1 –≤–µ—Ä—à–∏–Ω–∞2'")
    print("–ü—Ä–∏–º–µ—Ä: '1 2' - —Ä–µ–±—Ä–æ –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏ 1 –∏ 2")
    print("–í–≤–µ–¥–∏—Ç–µ 'end' –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–≤–æ–¥–∞")
    
    while True:
        edge_input = input("–í–≤–µ–¥–∏—Ç–µ —Ä–µ–±—Ä–æ: ").strip()
        
        if edge_input.lower() == 'end':
            break
        
        try:
            u, v = map(int, edge_input.split())
            edges.append((u, v))
            print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Ä–µ–±—Ä–æ: ({u}, {v})")
        except ValueError:
            print("‚ùå –û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: '–≤–µ—Ä—à–∏–Ω–∞1 –≤–µ—Ä—à–∏–Ω–∞2'")
    
    print(f"\n‚úÖ –í—Å–µ–≥–æ –≤–≤–µ–¥–µ–Ω–æ {len(edges)} —Ä–µ–±–µ—Ä")
    return edges

def input_example_graph():
    """
    –í—ã–±–æ—Ä –≥–æ—Ç–æ–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –≥—Ä–∞—Ñ–∞
    """
    examples = {
        "1": [(1, 2), (1, 3), (2, 4), (3, 4), (3, 5), (4, 5), (4, 6), (5, 6)],
        "2": [(1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4)],  # K4
        "3": [(1, 2), (2, 3), (3, 4), (4, 5)],  # –¶–µ–ø–æ—á–∫–∞
        "4": [(1, 2), (1, 3), (1, 4), (1, 5)],  # –ó–≤–µ–∑–¥–∞
        "5": [(1, 2), (2, 3), (3, 4), (4, 1), (1, 3), (2, 4)]  # K4 –±–µ–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–±—Ä–∞
    }
    
    print("\n--- –í—ã–±–æ—Ä –ø—Ä–∏–º–µ—Ä–∞ ---")
    print("1: –°–ª–æ–∂–Ω—ã–π –≥—Ä–∞—Ñ (8 —Ä–µ–±–µ—Ä)")
    print("2: –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ K4 (6 —Ä–µ–±–µ—Ä)")
    print("3: –¶–µ–ø–æ—á–∫–∞ (4 —Ä–µ–±—Ä–∞)")
    print("4: –ó–≤–µ–∑–¥–∞ (4 —Ä–µ–±—Ä–∞)")
    print("5: –ü–æ—á—Ç–∏ –ø–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ (5 —Ä–µ–±–µ—Ä)")
    
    choice = input("–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä (1-5): ").strip()
    
    if choice in examples:
        edges = examples[choice]
        print(f"‚úÖ –í—ã–±—Ä–∞–Ω –ø—Ä–∏–º–µ—Ä {choice}: {edges}")
        return edges
    else:
        print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.")
        return examples["1"]

def generate_random_graph():
    """
    –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞
    """
    import random
    
    print("\n--- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∞ ---")
    
    try:
        num_vertices = int(input("–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω: "))
        num_edges = int(input("–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä: "))
        
        if num_edges > num_vertices * (num_vertices - 1) // 2:
            print("‚ùå –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ä–µ–±–µ—Ä –¥–ª—è —Ç–∞–∫–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–µ—Ä—à–∏–Ω")
            return generate_random_graph()
        
        edges = []
        vertices = list(range(1, num_vertices + 1))
        possible_edges = []
        
        # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–±—Ä–∞
        for i in range(len(vertices)):
            for j in range(i + 1, len(vertices)):
                possible_edges.append((vertices[i], vertices[j]))
        
        # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —Ä–µ–±—Ä–∞
        edges = random.sample(possible_edges, num_edges)
        
        print(f"‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –≥—Ä–∞—Ñ —Å {num_vertices} –≤–µ—Ä—à–∏–Ω–∞–º–∏ –∏ {num_edges} —Ä–µ–±—Ä–∞–º–∏")
        return edges
        
    except ValueError:
        print("‚ùå –û—à–∏–±–∫–∞ –≤–≤–æ–¥–∞ —á–∏—Å–µ–ª")
        return generate_random_graph()

def display_graph_info(graph):
    """
    –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≥—Ä–∞—Ñ–µ
    """
    vertices = list(graph.keys())
    edges_set = set()
    
    for vertex in graph:
        for neighbor in graph[vertex]:
            if vertex < neighbor:
                edges_set.add((vertex, neighbor))
    
    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω: {len(vertices)}")
    print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä: {len(edges_set)}")
    print(f"–í–µ—Ä—à–∏–Ω—ã: {sorted(vertices)}")
    print(f"–†–µ–±—Ä–∞: {sorted(edges_set)}")

def main():
    """
    –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã
    """
    print("=" * 60)
    print("–ñ–ê–î–ù–´–ô –ê–õ–ì–û–†–ò–¢–ú –î–õ–Ø –ó–ê–î–ê–ß–ò –û –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ú –†–ê–ó–†–ï–ó–ï")
    print("=" * 60)
    
    while True:
        # –í–≤–æ–¥ –≥—Ä–∞—Ñ–∞
        graph = input_graph()
        
        # –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≥—Ä–∞—Ñ–µ
        print("\n" + "=" * 50)
        print("–ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ì–†–ê–§–ï")
        print("=" * 50)
        display_graph_info(graph)
        
        # –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º
        group_a, group_b = greedy_max_cut(graph)
        cut_edges = count_cut_edges(graph, group_a, group_b)
        
        # –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        print("\n" + "=" * 50)
        print("–†–ï–ó–£–õ–¨–¢–ê–¢–´")
        print("=" * 50)
        print(f"–ì—Ä—É–ø–ø–∞ A: {sorted(group_a)}")
        print(f"–ì—Ä—É–ø–ø–∞ B: {sorted(group_b)}")
        print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: {cut_edges}")
        
        # –ü–æ–¥—Å—á–µ—Ç –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–±–µ—Ä
        total_edges = sum(len(neighbors) for neighbors in graph.values()) // 2
        print(f"–í—Å–µ–≥–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ: {total_edges}")
        print(f"–î–æ–ª—è —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: {cut_edges/total_edges*100:.1f}%")
        
        # –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
        print("\n" + "=" * 50)
        continue_choice = input("–•–æ—Ç–∏—Ç–µ —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –≥—Ä–∞—Ñ–∞? (y/n): ").strip().lower()
        if continue_choice != 'y':
            print("üëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!")
            break

# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã
if __name__ == "__main__":
    main()




–í–í–û–î, –í–´–í–û–î 
–ø—Ä–∏–º–µ—Ä –∏–∑ —Ñ–∞–π–ª–∞
–ì—Ä–∞—Ñ —Å 8 –≤–µ—Ä—à–∏–Ω–∞–º–∏ (–ø–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –∏–ª–∏ –≥—Ä–∞—Ñ —Å 15 —Ä–µ–±—Ä–∞–º–∏)
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω: 8 –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä: 15 –í–µ—Ä—à–∏–Ω—ã: [1, 2, 3, 4, 5, 6, 7, 8] –†–µ–±—Ä–∞: [(1, 2), (1, 3), (1, 5), (1, 6), (1, 7), (1, 8), (2, 3), (2, 5), (3, 4), (3, 5), (3, 6), (4, 6), (4, 7), (5, 8), (6, 7)]

–†–ï–ó–£–õ–¨–¢–ê–¢–´
–ì—Ä—É–ø–ø–∞ A: [] –ì—Ä—É–ø–ø–∞ B: [1, 2, 3, 4, 5, 6, 7, 8] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0 –í—Å–µ–≥–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ: 15 –î–æ–ª—è —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0.0%

1 –ø—Ä–∏–º–µ—Ä
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω: 10 –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä: 16 –í–µ—Ä—à–∏–Ω—ã: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] –†–µ–±—Ä–∞: [(1, 2), (1, 5), (1, 7), (1, 8), (1, 9), (1, 10), (2, 8), (3, 8), (3, 10), (4, 7), (4, 9), (5, 7), (5, 10), (6, 10), (7, 10), (8, 10)]

–†–ï–ó–£–õ–¨–¢–ê–¢–´
–ì—Ä—É–ø–ø–∞ A: [] –ì—Ä—É–ø–ø–∞ B: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0 –í—Å–µ–≥–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ: 16 –î–æ–ª—è —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0.0%

2 –ø—Ä–∏–º–µ—Ä
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω: 6 –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä: 10 –í–µ—Ä—à–∏–Ω—ã: [1, 2, 3, 4, 5, 6] –†–µ–±—Ä–∞: [(1, 3), (1, 4), (1, 6), (2, 3), (2, 5), (2, 6), (3, 5), (3, 6), (4, 5), (4, 6)]

–†–ï–ó–£–õ–¨–¢–ê–¢–´
–ì—Ä—É–ø–ø–∞ A: [] –ì—Ä—É–ø–ø–∞ B: [1, 2, 3, 4, 5, 6] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0 –í—Å–µ–≥–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ: 10 –î–æ–ª—è —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0.0%

3 –ø—Ä–∏–º–µ—Ä
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω: 12 –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä: 20 –í–µ—Ä—à–∏–Ω—ã: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12] –†–µ–±—Ä–∞: [(1, 2), (1, 3), (1, 4), (1, 6), (1, 11), (1, 12), (2, 7), (2, 12), (3, 7), (3, 8), (3, 11), (4, 6), (5, 6), (6, 11), (7, 8), (7, 10), (8, 11), (9, 10), (10, 11), (10, 12)]

–†–ï–ó–£–õ–¨–¢–ê–¢–´
–ì—Ä—É–ø–ø–∞ A: [] –ì—Ä—É–ø–ø–∞ B: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0 –í—Å–µ–≥–æ —Ä–µ–±–µ—Ä –≤ –≥—Ä–∞—Ñ–µ: 20 –î–æ–ª—è —Ä–µ–±–µ—Ä –≤ —Ä–∞–∑—Ä–µ–∑–µ: 0.0%
